<div class="mdl-card__title">
    <div class="mdl-card__title-text">
        Campaign summary
    </div>
</div>
<div class="mdl-card__media mdl-color--white">
    <div ng-if="model.loading" class="campaings-loader" mdl-upgrade>
        <div
            class="mdl-spinner
                mdl-spinner--single-color
                mdl-js-spinner
                is-active">
        </div>
    </div>
    <table ng-if="!model.loading" class="campaigns-table mdl-data-table mdl-js-data-table" mdl-upgrade>
        <thead>
          <tr>
            <th
                title="Active"
                class="mdl-data-table__cell--non-numeric"
            >Active</th>
            <th title="Name" class="mdl-data-table__cell--non-numeric">Name</th>
            <th title="Conversion">Conv.</th>
            <th title="CPA">CPA</th>
            <th title="Spent">Spent</th>
            <th title="Click">Click</th>
            <th title="Landing">Land.</th>
            <th title="Schedule">Schedule</th>
          </tr>
        </thead>
        <tbody>
          <tr ng-repeat="c in model.data">
            <td class="mdl-data-table__cell--non-numeric">
                <label
                    ng-click="$event.preventDefault(); toggle(c.id, c.active);"
                    class="mdl-switch mdl-js-switch mdl-js-ripple-effect"
                    for="switch-{{c.id}}">
                    <input
                        type="checkbox"
                        ng-model="c.active"
                        id="switch-{{c.id}}"
                        class="mdl-switch__input" />
                    <span class="mdl-switch__label"></span>
                </label>
            </td>
            <td class="mdl-data-table__cell--non-numeric">
                <a
                    class="mdl-color-text--primary"
                    ui-sref="root.main.content.info({contentId: c.cId})"
                    ui-sref-opts="{reload:true}"
                    title="{{c.name}}">
                    {{c.name}}
                </a>
            </td>
            <td>{{c.conversion}}</td>
            <td>{{c.cpa}}</td>
            <td>{{c.spend}}</td>
            <td>{{c.click}}</td>
            <td>{{c.landing}}</td>
            <td>{{c.from}} - {{c.to}}</td>
          </tr>
        <tr class="spacer" ng-if="model.sum < 10">
            <td colspan="9" style="height: calc(49px * ({{10 - model.sum}}))">
                {{model.sum ? 
                    '&nbsp' :
                    model.errorMessage ?
                        model.errorMessage :
                        'No campaigns present.'}}
            </td>
        </tr>
        </tbody>
    </table>
    <div class="mdl-data-table__footer">
        <button
          ng-disabled="model.offset + model.sum >= model.cnt"
          class="mdl-button mdl-button--icon mdl-js-button mdl-js-ripple-effect"
          ng-click="next()">
          <i class="material-icons">navigate_next</i>
        </button>
    <button
      ng-disabled="!model.offset"
      class="mdl-button mdl-button--icon mdl-js-button mdl-js-ripple-effect"
      ng-click="prev()">
      <i class="material-icons">navigate_before</i>
    </button>
    <span>{{model.sum ? model.offset + 1 : 0}}-{{model.offset + model.sum}} of {{model.cnt}}</span>
  </div>
</div>
<div class="mdl-card__menu">
    <button ng-click="export()"
        title="Export data"
        class="mdl-button
            mdl-button--icon
            mdl-js-button
            mdl-js-ripple-effect">
        <i class="material-icons">file_download</i>
    </button>
</div>